(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-313aa838"],{"07e1":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("InfiniteScroll",{staticClass:"infinite-scroll",attrs:{empty:t.empty,failed:t.failed,finished:t.finished,waveColor:"#f0eff5"},on:{load:t.load,refresh:t.refresh},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[i("transition-group",{staticClass:"app__items",attrs:{tag:"ul",name:t.transitionName}},t._l(t.items,function(t){return i("Card",{key:t.id,attrs:{tag:"li",item:t}})}),1)],1)},n=[],a=i("cebc"),l=i("83b8"),o=i("cb94"),r=i("c4c8"),c={components:{Card:l["a"],InfiniteScroll:o["a"]},data:function(){return{items:[],loading:!0,finished:!1,failed:!1,empty:!1,transitionName:"item"}},created:function(){this.query={offset:0,limit:15}},methods:{fetchData:function(t){var e=this;return this.failed=!1,Object(r["b"])(t).then(function(i){var s=i.records,n=i.pages,a=i.total;e.loading?(e.transitionName="item",e.items=e.items.concat(s),e.query.offset=t.offset):(e.transitionName="",e.items=s,e.query.offset=1),e.empty=!a,e.finished=t.offset>=n}).catch(this.failure)},load:function(t){this.fetchData(Object(a["a"])({},this.query,{offset:this.query.offset+1})).then(t)},refresh:function(t){this.fetchData(Object(a["a"])({},this.query,{offset:1})).then(t)},failure:function(){this.failed=!0}}},f=c,d=(i("a7d0"),i("2877")),u=Object(d["a"])(f,s,n,!1,null,null,null);e["default"]=u.exports},"29b6":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".infinite-scroll{padding-bottom:10px}",""])},"2e48":function(t,e,i){var s=i("5398");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var n=i("499e").default;n("389c40ba",s,!0,{sourceMap:!1,shadowMode:!1})},"4ec8":function(t,e,i){var s=i("29b6");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var n=i("499e").default;n("878d5d48",s,!0,{sourceMap:!1,shadowMode:!1})},5398:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".v-infinite-scroll__footer{width:100%;min-height:52px;text-align:center;justify-content:center}.v-infinite-scroll__empty,.v-infinite-scroll__footer{display:flex;align-items:center}.v-infinite-scroll__failed{cursor:pointer}.v-infinite-scroll__failed:hover{color:var(--primary)}",""])},5826:function(t,e,i){var s=i("9fbe");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var n=i("499e").default;n("3f051655",s,!0,{sourceMap:!1,shadowMode:!1})},"7b96":function(t,e,i){"use strict";var s=i("2e48"),n=i.n(s);n.a},"83b8":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.loading?i(t.tag,{tag:"component",staticClass:"v-c2 v-skeleton--animate"},[i("div",{staticClass:"v-c2__image v-skeleton"}),i("div",{staticClass:"v-c2__detail"},[i("div",{staticClass:"v-c2__title v-skeleton"}),i("div",{staticClass:"v-c2__description v-skeleton"})])]):i(t.tag,{tag:"component",staticClass:"v-c2"},[i("div",{staticClass:"v-c2__image"},[t.item.image?i("img",{attrs:{src:t.item.image}}):t._e()]),i("div",{staticClass:"v-c2__detail"},[i("div",{staticClass:"v-c2__title"},[t._v(t._s(t.item.title))]),i("div",{staticClass:"v-c2__description"},[t._v("\n      "+t._s(t.item.description)+"\n    ")])])])},n=[],a={name:"v-card-c2",props:{tag:{type:String,default:"div"},loading:{type:Boolean,default:!1},item:{type:Object,default:function(){return{image:"",title:"",description:""}}}}},l=a,o=(i("ef2c"),i("2877")),r=Object(o["a"])(l,s,n,!1,null,null,null);e["a"]=r.exports},"9fbe":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".v-c2{display:flex;padding:10px;background-color:#fff}.v-c2__image{width:100px;height:100px;background-color:var(--background);border-radius:5px}.v-c2__image img{max-width:100%;border-radius:inherit}.v-c2__detail{margin-left:10px;flex:1}.v-c2__title{display:flex;align-items:center;font-size:16px;min-height:26px;font-weight:450}.v-c2__description{margin-top:5px;height:62px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;font-size:14px}",""])},a7d0:function(t,e,i){"use strict";var s=i("4ec8"),n=i.n(s);n.a},c535:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._t("default")],2)},n=[],a=(i("c5f6"),i("f6da")),l=i("891d"),o={name:"WithScroll",props:{rAF:Boolean,wait:Number},mounted:function(){this.bind()},activated:function(){this.bind()},deactivated:function(){this.unbind()},beforeDestroy:function(){this.unbind(),this.handleScroll=null},methods:{bind:function(){this.isBind||(this.handleScroll=this.rAF?Object(a["l"])(this.handleScroll):Object(a["o"])(this.handleScroll,this.wait),this.scrollEl=Object(l["b"])(this.$el),Object(a["a"])(this.scrollEl,"scroll",this.handleScroll),this.isBind=!0)},unbind:function(){this.isBind&&(Object(a["m"])(this.scrollEl,"scroll",this.handleScroll),this.isBind=!1,this.scrollEl=null)},handleScroll:function(){this.scrollTop=Object(l["c"])(this.scrollEl),this.$emit("scroll",this.scrollTop)},setScrollTop:function(t){Object(l["d"])(this.scrollEl,t)}}},r=o,c=i("2877"),f=Object(c["a"])(r,s,n,!1,null,null,null);e["a"]=f.exports},cb94:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("WithScroll",{attrs:{rAF:""},on:{scroll:t.update}},[i(t.pullRefresh?"PullRefresh":"div",t._b({tag:"component",attrs:{failed:t.failed,disabled:t.isLoading},on:{refresh:t.refresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},"component",t.$attrs,!1),[i("div",{ref:"container",staticClass:"v-infinite-scroll"},[t._t("default")],2),i("div",{class:t.footerClass},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"value"}],class:t.loadingClass},[t._t("loading",[i("Loading",{staticClass:"v-infinite-scroll__loading",attrs:{size:"32"}})])],2),i("div",{directives:[{name:"show",rawName:"v-show",value:t.finished&&!t.empty,expression:"finished && !empty"}],class:t.finishedClass},[t._t("finished",[t._v("全部加载完成")])],2),i("div",{directives:[{name:"show",rawName:"v-show",value:t.empty,expression:"empty"}],class:t.emptyClass},[t._t("empty",[t._v("空空如也")])],2),i("div",{directives:[{name:"show",rawName:"v-show",value:t.failed&&!t.finished,expression:"failed && !finished"}],class:t.failedClass,on:{click:t.load}},[t._t("failed",[t._v("加载失败,点击重试")])],2)])])],1)},n=[],a=(i("c5f6"),i("2a56")),l=i("2c1b"),o=i("c535"),r=i("f6da"),c={name:"InfiniteScroll",inheritAttrs:!1,components:{WithScroll:o["a"],PullRefresh:a["a"],Loading:l["a"]},props:{check:{type:Boolean,default:!0},value:{type:Boolean,required:!0},finished:{type:Boolean,default:!1},failed:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},offset:{type:Number,default:300},pullRefresh:{type:Boolean,default:!0},footerClass:{type:String,default:"v-infinite-scroll__footer"},loadingClass:{type:String,default:""},finishedClass:{type:String,default:""},emptyClass:{type:String,default:"v-infinite-scroll__empty"},failedClass:{type:String,default:"v-infinite-scroll__failed"}},data:function(){return{refreshing:!1,isLoading:!1}},watch:{value:{handler:function(t){t?this.load():this.isLoading=!1},immediate:!0}},mounted:function(){var t=this;setTimeout(function(){t.check&&t.update()},50)},methods:{update:function(){this.shouldLoadMore()&&this.load()},shouldLoadMore:function(){if(this.finished||this.value||this.failed)return!1;var t=this.$refs.container.getBoundingClientRect().bottom;return t-r["q"].height()<=this.offset},load:function(){this.finished?this.done():this.isLoading||this.refreshing||(this.isLoading=!0,this.$emit("input",!0),this.$emit("load",this.done))},refresh:function(t){this.$emit("refresh",t)},done:function(){var t=this;this.$nextTick(function(){t.$emit("input",!1),t.isLoading=!1})}}},f=c,d=(i("7b96"),i("2877")),u=Object(d["a"])(f,s,n,!1,null,null,null);e["a"]=u.exports},ef2c:function(t,e,i){"use strict";var s=i("5826"),n=i.n(s);n.a}}]);