(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02b58f9b"],{"07e1":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("InfiniteScroll",{staticClass:"page-infinite-scroll",attrs:{empty:e.empty,failed:e.failed,finished:e.finished},on:{load:e.load,refresh:e.refresh},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[i("transition-group",{staticClass:"items",attrs:{tag:"ul",name:"item"}},e._l(e.items,function(t){return i("li",{key:t.id,staticClass:"item"},[e._v("\n      "+e._s(t.value)+"\n    ")])}),0)],1)},s=[],l=i("90e0"),o=0;function a(e){return new Promise(function(t){var i={records:[],pages:3,total:45},n=0;1===e.offset&&(o=0);while(n<e.limit)n++,o++,i.records.push({id:o,value:o});setTimeout(function(){return t(i)},~~(100*Math.random()+500))})}var r={components:{InfiniteScroll:l["a"]},data:function(){return{items:[],query:{offset:1,limit:15},loading:!0,finished:!1,failed:!1,empty:!1}},methods:{fetchData:function(){var e=this;return this.failed=!1,a(this.query).then(function(t){var i=t.records,n=t.pages,s=t.total;e.items=e.loading?e.items.concat(i):i,e.empty=!s,e.finished=e.query.offset>=n,e.query.offset++}).catch(this.failure)},load:function(e){this.fetchData().then(e)},refresh:function(e){this.query.offset=1,this.fetchData().then(e)},failure:function(){this.failed=!0}}},c=r,f=(i("0842"),i("2877")),d=Object(f["a"])(c,n,s,!1,null,null,null);t["default"]=d.exports},"0842":function(e,t,i){"use strict";var n=i("8c85"),s=i.n(n);s.a},"5c35":function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,".v-infinite-scroll-footer{width:100%;height:50px;text-align:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.v-infinite-scroll-empty,.v-infinite-scroll-footer{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.v-infinite-scroll-empty{min-height:400px}.v-infinite-scroll-loading{color:#d9d9d9}",""])},7769:function(e,t,i){var n=i("5c35");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var s=i("499e").default;s("3cefd642",n,!0,{sourceMap:!1,shadowMode:!1})},"8c85":function(e,t,i){var n=i("aef3");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var s=i("499e").default;s("33f98242",n,!0,{sourceMap:!1,shadowMode:!1})},"90e0":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("WithScroll",{attrs:{onscroll:e.update}},[i(e.pullRefresh?"PullRefresh":"div",{tag:"component",attrs:{failed:e.failed,disabled:e.isLoading},on:{refresh:e.refresh},model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[i("div",{ref:"container",staticClass:"v-infinite-scroll"},[e._t("default")],2),i("div",{directives:[{name:"show",rawName:"v-show",value:e.value,expression:"value"}],staticClass:"v-infinite-scroll-footer"},[e._t("loading",[i("Loading",{staticClass:"v-infinite-scroll-loading",attrs:{size:"32"}})])],2),i("div",{directives:[{name:"show",rawName:"v-show",value:e.finished&&!e.empty,expression:"finished && !empty"}],staticClass:"v-infinite-scroll-footer"},[e._t("finished",[e._v("全部加载完成")])],2),i("div",{directives:[{name:"show",rawName:"v-show",value:e.empty,expression:"empty"}],staticClass:"v-infinite-scroll-footer"},[e._t("empty",[i("div",{staticClass:"v-infinite-scroll-empty"},[e._v("空空如也")])])],2),i("div",{directives:[{name:"show",rawName:"v-show",value:e.failed,expression:"failed"}],staticClass:"v-infinite-scroll-footer",on:{click:e.load}},[e._t("failed",[e._v("加载失败,点击重试")])],2)])],1)},s=[],l=(i("83d8"),i("78a4a")),o=i("b4b5"),a=i("992d"),r=i("cef0"),c={name:"InfiniteScroll",components:{WithScroll:a["a"],PullRefresh:l["a"],Loading:o["a"]},props:{value:{type:Boolean,required:!0},finished:{type:Boolean,default:!1},failed:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},offset:{type:Number,default:300},pullRefresh:{type:Boolean,default:!0}},data:function(){return{refreshing:!1,isLoading:!1}},watch:{value:{handler:function(e){e&&this.load()},immediate:!0}},methods:{update:function(){this.shouldLoadMore()&&this.load()},shouldLoadMore:function(){if(this.finished||this.value||this.failed)return!1;var e=this.$refs.container.getBoundingClientRect().bottom;return e-r["r"].height()<=this.offset},load:function(){this.finished?this.done():this.isLoading||this.refreshing||(this.isLoading=!0,this.$emit("input",!0),this.$emit("load",this.done))},refresh:function(e){this.$emit("refresh",e)},done:function(){var e=this;this.$nextTick(function(){e.$emit("input",!1),e.isLoading=!1})}}},f=c,d=(i("cc5c"),i("2877")),h=Object(d["a"])(f,n,s,!1,null,null,null);t["a"]=h.exports},"992d":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._t("default")],2)},s=[],l=(i("83d8"),i("cef0")),o={name:"WithScroll",props:{rAF:Boolean,wait:Number,onscroll:{type:Function,default:function(){}}},mounted:function(){this.bind()},activated:function(){this.bind()},deactivated:function(){this.unbind()},beforeDestroy:function(){this.unbind(),this.handleScroll=null},methods:{bind:function(){this.isBind||(this.handleScroll=this.rAF?Object(l["m"])(this.handleScroll):Object(l["q"])(this.handleScroll,this.wait),this.scrollEl=Object(l["e"])(this.$el),Object(l["a"])(this.scrollEl,"scroll",this.handleScroll),this.isBind=!0)},unbind:function(){Object(l["n"])(this.scrollEl,"scroll",this.handleScroll),this.isBind=!1,this.scrollEl=null},handleScroll:function(){this.scrollTop=Object(l["f"])(this.scrollEl),this.onscroll(this.scrollTop)},setScrollTop:function(e){Object(l["o"])(this.scrollEl,e)}}},a=o,r=i("2877"),c=Object(r["a"])(a,n,s,!1,null,null,null);t["a"]=c.exports},aef3:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,".page-infinite-scroll{padding-bottom:10px}",""])},cc5c:function(e,t,i){"use strict";var n=i("7769"),s=i.n(n);s.a}}]);