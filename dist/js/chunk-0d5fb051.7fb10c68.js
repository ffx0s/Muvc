(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d5fb051","chunk-5fbe524a"],{"07e1":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("InfiniteScroll",{staticClass:"page-infinite-scroll",attrs:{empty:e.empty,failed:e.failed,finished:e.finished},on:{load:e.load,refresh:e.refresh},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[i("transition-group",{staticClass:"items",attrs:{tag:"ul",name:"item"}},e._l(e.items,function(t){return i("li",{key:t.id,staticClass:"item"},[e._v("\n      "+e._s(t.value)+"\n    ")])}),0)],1)},s=[],l=i("eae9"),o=0;function a(e){return new Promise(function(t){var i={records:[],pages:3,total:45},n=0;1===e.offset&&(o=0);while(n<e.limit)n++,o++,i.records.push({id:o,value:o});setTimeout(function(){return t(i)},~~(100*Math.random()+500))})}var r={components:{InfiniteScroll:l["a"]},data:function(){return{items:[],query:{offset:1,limit:15},loading:!0,finished:!1,failed:!1,empty:!1}},methods:{fetchData:function(){var e=this;return this.failed=!1,a(this.query).then(function(t){var i=t.records,n=t.pages,s=t.total;e.items=e.loading?e.items.concat(i):i,e.empty=!s,e.finished=e.query.offset>=n,e.query.offset++}).catch(this.failure)},load:function(e){this.fetchData().then(e)},refresh:function(e){this.query.offset=1,this.fetchData().then(e)},failure:function(){this.failed=!0}}},f=r,c=(i("0842"),i("2877")),d=Object(c["a"])(f,n,s,!1,null,null,null);t["default"]=d.exports},"0842":function(e,t,i){"use strict";var n=i("8c85"),s=i.n(n);s.a},"2f66":function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,".v-infinite-scroll-footer{width:100%;height:50px;text-align:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.v-infinite-scroll-empty,.v-infinite-scroll-footer{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.v-infinite-scroll-empty{min-height:400px}.v-infinite-scroll-loading{color:#d9d9d9}",""])},"8c85":function(e,t,i){var n=i("aef3");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var s=i("499e").default;s("33f98242",n,!0,{sourceMap:!1,shadowMode:!1})},aef3:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,".page-infinite-scroll{padding-bottom:10px}",""])},cfb6:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("Navbar",{attrs:{title:"InfiniteScroll"}}),i("Module")],1)},s=[],l=i("07e1"),o={name:"page-infinite-scroll",components:{Module:l["default"]}},a=o,r=i("2877"),f=Object(r["a"])(a,n,s,!1,null,null,null);t["default"]=f.exports},d4fd:function(e,t,i){var n=i("2f66");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var s=i("499e").default;s("0f51879c",n,!0,{sourceMap:!1,shadowMode:!1})},eae9:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(e.pullRefresh?"PullRefresh":"div",{ref:"pullRefresh",tag:"component",attrs:{failed:e.failed,disabled:e.isLoading},on:{refresh:e.refresh},model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[i("div",{ref:"container",staticClass:"v-infinite-scroll"},[e._t("default")],2),i("div",{directives:[{name:"show",rawName:"v-show",value:e.value,expression:"value"}],staticClass:"v-infinite-scroll-footer"},[e._t("loading",[i("Loading",{staticClass:"v-infinite-scroll-loading",attrs:{size:"32"}})])],2),i("div",{directives:[{name:"show",rawName:"v-show",value:e.finished&&!e.empty,expression:"finished && !empty"}],staticClass:"v-infinite-scroll-footer"},[e._t("finished",[e._v("全部加载完成")])],2),i("div",{directives:[{name:"show",rawName:"v-show",value:e.empty,expression:"empty"}],staticClass:"v-infinite-scroll-footer"},[e._t("empty",[i("div",{staticClass:"v-infinite-scroll-empty"},[e._v("空空如也")])])],2),i("div",{directives:[{name:"show",rawName:"v-show",value:e.failed,expression:"failed"}],staticClass:"v-infinite-scroll-footer",on:{click:e.load}},[e._t("failed",[e._v("加载失败,点击重试")])],2)])},s=[],l=(i("c5f6"),i("5ed3")),o=i("7ac2"),a=i("ac6e"),r=i("6116"),f={name:"InfiniteScroll",components:{PullRefresh:l["a"],Loading:o["a"]},props:{value:{type:Boolean,required:!0},finished:{type:Boolean,default:!1},failed:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},offset:{type:Number,default:300},pullRefresh:{type:Boolean,default:!0}},data:function(){return{refreshing:!1,isLoading:!1}},watch:{value:{handler:function(e){e&&this.load()},immediate:!0}},mounted:function(){this.bind()},activated:function(){this.bind()},deactivated:function(){this.unbind()},beforeDestroy:function(){this.unbind()},methods:{bind:function(){var e=this;this.isBind||(this.$nextTick(function(){e.onscroll=new a["a"](e.scrollHandler),e.scrollEl=e.pullRefresh?e.$refs.pullRefresh.scrollEl:Object(r["d"])(e.$el),e.container=e.$refs.container,Object(r["a"])(e.scrollEl,"scroll",e.onscroll)}),this.isBind=!0)},unbind:function(){Object(r["k"])(this.scrollEl,"scroll",this.onscroll),this.isBind=!1,this.scrollEl=null,this.container=null,this.onscroll=null},scrollHandler:function(){this.shouldLoadMore()&&this.load()},shouldLoadMore:function(){if(this.finished||this.value||this.failed)return!1;var e=this.container.getBoundingClientRect().bottom;return e-r["n"].height()<=this.offset},load:function(){this.finished?this.done():this.isLoading||this.refreshing||(this.isLoading=!0,this.$emit("input",!0),this.$emit("load",this.done))},refresh:function(e){this.$emit("refresh",e)},done:function(){var e=this;this.$nextTick(function(){e.$emit("input",!1),e.isLoading=!1})}}},c=f,d=(i("f552"),i("2877")),u=Object(d["a"])(c,n,s,!1,null,null,null);t["a"]=u.exports},f552:function(e,t,i){"use strict";var n=i("d4fd"),s=i.n(n);s.a}}]);
//# sourceMappingURL=chunk-0d5fb051.7fb10c68.js.map